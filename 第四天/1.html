<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>

        // var i = 20;
        //     function fn() {
        //         i -= 2;
        //         return function (n) {
        //             console.log((++i) - n);
        //         }
        //     }
        //     var f = fn();
        //     f(1); //18  
        //     f(2);  //18
        //     fn()(3); //16
        //     fn()(4);//14
        //     f(5); //14 
        //     console.log(i);//19

        //    var i = 5;
        //   function fn(i) {//2 3
        //             return function (n) {
        //          console.log(n + (++i));
        //            }
        //       }
        //        var f = fn(1);
        //       f(2);//4
        //          fn(3)(4);//8
        //         fn(5)(6);//12
        //        f(7);//10
        //       console.log(i);//5


        //     var i=5;
        //      function fn(i) {//4
        //            return function (n) {
        //            console.log(n + (++i)); 
        //            }
        //          }
        //         var f = fn(3);
        //         f(4);//8
        //        fn(3)(6);// 10 
        //         f(2); // 7
        //        console.log(i); //5

        // var i = 2;//3 
        // function fn() { 
        //     i += 2;
        //     return function (n) {
        //         console.log(n + (--i))
        //     }
        // }
        // var f = fn();
        // f();//NaN
        // f(3);//5
        // fn()(2);//5
        // var num = 1;//2 4
        // var obj = {
        //     num: 2,
        //     fn: (function () { 
        //         this.num *= 2;
        //         num += 3; //num:1 3 4
        //         var num = 1;
        //         return function () {
        //             num += 2;
        //             this.num += 2 
        //             console.log(++num);
        //         }
        //     })()
        // };
        // var f = obj.fn;
        // f();//4
        // obj.fn();//7
        // console.log(window.num, obj.num);//4,4

        var num = 10;//20 30
        var obj = { num: 15 };//30
        obj.fn = (function (num) {
            this.num += 10;
            num *= 2;//30 29 28
            return function (n) {
                this.num += n;
                console.log(n + (--num));
            }
        })(obj.num);
        var fn = obj.fn;
        fn(10);//39
        obj.fn(15);//43
        console.log(window.num, obj.num);
//========================================
        // let A = {
        //     b:function(){
        //         console.log(this);
        //         return this
        //     },
        //     c:function(){
        //         console.log(this);
        //         return this
        //     }
        // }
        // A.b().c();
    </script>
</body>

</html>